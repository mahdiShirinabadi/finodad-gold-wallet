syntax = "proto3";

option java_multiple_files = true;
option java_package = "com.melli.wallet.grpc";
option java_outer_classname = "RoleManagementProto";

package wallet;

import "base.proto";

// Role Management Service
service RoleManagementService {
  // Role CRUD Operations
  rpc CreateRole(RoleCreateRequestGrpc) returns (BaseResponseGrpc) {}
  rpc GetRoleList(Empty) returns (BaseResponseGrpc) {}
  
  // Resource CRUD Operations
  rpc CreateResource(ResourceCreateRequestGrpc) returns (BaseResponseGrpc) {}
  rpc GetResourceList(Empty) returns (BaseResponseGrpc) {}
  
  // Role-Resource Management
  rpc AddResourcesToRole(RoleResourceRequestGrpc) returns (BaseResponseGrpc) {}
  rpc GetRoleResources(GetRoleResourcesRequestGrpc) returns (BaseResponseGrpc) {}
  
  // Role-Channel Management
  rpc AssignRoleToChannel(ChannelRoleRequestGrpc) returns (BaseResponseGrpc) {}
  rpc GetChannelList(Empty) returns (BaseResponseGrpc) {}
}

// Request Messages
message RoleCreateRequestGrpc {
  string name = 1;
  string description = 2;
}

message ResourceCreateRequestGrpc {
  string name = 1;
  string fa_name = 2;
  bool display = 3;
}

message RoleResourceRequestGrpc {
  int64 role_id = 1;
  repeated int64 resource_ids = 2;
}

message GetRoleResourcesRequestGrpc {
  int64 role_id = 1;
}

message ChannelRoleRequestGrpc {
  int64 role_id = 1;
  int64 channel_id = 2;
}